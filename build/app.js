!function(){"use strict";const e="select-start-date",t="select-end-date",n=1881,o=2006,c=e=>e;const r=new Worker("./worker.js");r.onmessage=function(e){try{const{data:t}=e;switch(t.type){case a:console.log("Client recieved",t.payload);break;case s:throw t.payload;default:throw new Error(`Unknown data type: ${t.type}`)}}catch(e){console.error(e)}};const a="RECIEVE_DATA",s="ERROR",l=function(e,t=c){return function(...n){return{type:e,payload:t(...n)}}}("FETCH_DATA",(e,t)=>({route:e,params:t}));function u(){m()}function d(e){const t="btn--selected";if(e.target.classList.contains(t))return e.preventDefault(),void e.stopPropagation;Array.prototype.forEach.call(document.getElementsByClassName(t),e=>e.classList.remove(t)),e.target.classList.add(t)}function i(e){e.preventDefault(),m()}function m(){const n=function(){const n={};[e,t].forEach(e=>{const t=document.getElementById(e);n[t.name]=t.value});const o=document.querySelector("#controls .btn--selected");return n.route=o.value,n}();r.postMessage(l(n.route,n))}function p(e,t){const c=document.getElementById(e),r=function(e,t){const n=document.createDocumentFragment();let o=e;for(;o<=t;){const e=document.createElement("option");e.textContent=o,e.value=o,n.appendChild(e),o++}return n}(n,o);r.querySelector(`[value="${t}"]`).selected=!0,c.appendChild(r)}p(e,n),p(t,o),[e,t].forEach(e=>{document.getElementById(e).addEventListener("change",u)}),document.getElementById("controls").addEventListener("submit",i),document.querySelectorAll('.btn[name="type"]').forEach(e=>e.addEventListener("click",d)),m()}();
