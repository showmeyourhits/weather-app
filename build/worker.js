!function(){"use strict";const e=e=>e;function t(t,o=e){return function(...e){return{type:t,payload:o(...e)}}}const o="FETCH_DATA",a="temperature",s="precipitation",n=t("ERROR",(e,t="Something bad happened in worker")=>({error:e,message:t})),r=t("RECIEVE_DATA",(e,t,o)=>({route:e,data:o,code:t}));console.log("Worker installed"),self.onmessage=function(e){try{const{data:t}=e;switch(t.type){case o:!async function({route:e,params:t}){switch(console.log(`should request on route: "${e}" with params`,t),e){case a:case s:try{const t=await fetch(`./data/${e}.json`),o=await t.json();self.postMessage(r(e,200,o))}catch(e){console.error(e)}}}(t.payload);break;default:throw"Unknown data type"}}catch(e){self.postMessage(n(e))}}}();
